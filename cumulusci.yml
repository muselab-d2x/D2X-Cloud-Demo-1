minimum_cumulusci_version: '3.76.0'
project:
    name: D2X-Cloud-Demo-1
    package:
        name: D2X Cloud Demo 1
        namespace: d2x
        api_version: '58.0'
    git:
        default_branch: 'main'
    source_format: sfdx
    dependencies:
        - github: 'https://github.com/SFDO-Community/declarative-lookup-rollup-summaries'
        - github: 'https://github.com/SFDO-Community/GrassrootsSurveySalesforcePackage'
        - github: 'https://github.com/SFDO-Community/Salesforce-Indicators'
        - github: 'https://github.com/SFDO-Community/Summit-Events-App'
        - github: 'https://github.com/muselab-d2x/Cactusforce24-Base'
        - namespace: pmdm
          version: 1.33
        - github: 'https://github.com/muselab-d2x/D2X-Cloud-Demo-1'
          subfolder: 'force-app'
    dependency_resolutions:
        resolution_strategies:
            commit_status:
                - tag
                - commit_status_exact_branch
                - commit_status_release_branch
                - commit_status_previous_release_branch
                - commit_status_parent_branch
                - commit_status_default_branch
                - latest_beta
                - latest_release
                - unmanaged
            
    
      

tasks:
    run_tests:
        options:
            required_org_code_coverage_percent: 75

orgs:
    scratch:
        beta:
            config_file: orgs/managed.json
        dev:
            config_file: orgs/unmanaged.json
        feature:
            config_file: orgs/managed.json
        qa:
            config_file: orgs/managed.json
        release:
            config_file: orgs/managed.json
